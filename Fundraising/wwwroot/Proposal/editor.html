<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="../ckeditor/ckeditor.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
    <textarea name="ProductContent" id="ProductContent" rows="10" cols="80">
        This is my textarea to be replaced with CKEditor 4.
    </textarea>
    <div id="create">
        <textarea name="ProductTitle" id="ProductTitle" cols="30" rows="10"></textarea>
        <input type="number" name="" id="">
        <in put type="button" onclick="OK()" value="OK">
        <input type="button" onclick="createOK()" value="送出" class="btn btn-outline-primary" />
        <input type="text" v-model="todoItem.text">
    </div>



    <script>
        // Replace the <textarea id="editor1"> with a CKEditor 4
        // instance, using default configuration.
        CKEDITOR.replace('ProductContent');

        var dataDB;
        function OK() {
            console.log(coverimgdata)
            console.log(document.getElementById("ProductTitle").value)
            dataDB = CKEDITOR.instances.ProductContent.getData();
            console.log(dataDB);
            console.log(document.getElementById("TargetAmount").value)
            console.log(document.getElementById("ProductVedio").value)
            console.log(document.getElementById("PrincipalId").value)
            console.log(document.getElementById("PrincipalName").value)
            console.log(document.getElementById("PrincipalPhone").value)
            console.log(document.getElementById("PrincipalEmail").value)
            console.log(document.getElementById("PrincipalBankAccount").value)
            // var userid = 1;
            alert("OK");
            var data = {
                ProductTitle: document.getElementById("ProductTitle").value,
                ProductContent: dataDB,
                TargetAmount: document.getElementById("TargetAmount").value,
                ProductVedio: document.getElementById("ProductVedio").value,
                PrincipalId: document.getElementById("PrincipalId").value,
                PrincipalName: document.getElementById("PrincipalName").value,
                PrincipalPhone: document.getElementById("PrincipalPhone").value,
                PrincipalEmail: document.getElementById("PrincipalEmail").value,
                PrincipalBankAccount: document.getElementById("PrincipalBankAccount").value,
                UserID: 1
            }

            axios.post("http://localhost:36827/api/Tests", data)
                .then(res => {
                    console.log(res);
                })
                .catch(error => {
                    console.log(error.response);
                });
        }


        // const vm = Vue.createApp({
        //     data() {
        //         return {
        //             todoItem: { "text": dataDB, "imgcover": "" }
        //         }
        //     },
        //     methods: {
        //         createOK() {
        //             $.ajax({
        //                 type: "post",
        //                 url: "http://localhost:46299/api/Tests",
        //                 contentType: "application/json",
        //                 data: JSON.stringify(this.todoItem),
        //                 success: function () {
        //                     alert("OK");
        //                 }
        //             })
        //         },
        //     }
        // }).mount('#create');
    </script>
</body>

</html>